# name: Ansible Provisioning

# on:
#   push:
#     branches:
#       - main
 

# jobs:
#   ansible:
#     name: Ansible Deploy Apache + PHP App
#     runs-on: ubuntu-latest
#     defaults:
#       run:
#         working-directory: ansible

#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v3

#       - name: Install Ansible
#         run: sudo apt-get update && sudo apt-get install -y ansible

#       - name: Copy SSH Key
#         run: |
#           mkdir -p ~/.ssh
#           echo "${{ secrets.EC2_PRIVATE_KEY }}" > ~/.ssh/id_rsa
#           chmod 600 ~/.ssh/id_rsa

#       - name: Ping server
#         run: ansible all -i ../inventory.ini -m ping

#       - name: Run Playbook
#         run: ansible-playbook -i ../inventory.ini deploy.yaml
